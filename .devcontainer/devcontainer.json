{
    "name": "R Package Dev (Rocker)",
    "image": "rocker/tidyverse:latest",
    "features": {
        "ghcr.io/devcontainers/features/common-utils:1": {
            "installZsh": true,
            "configureZshAsDefaultShell": true
        }
    },
    "remoteEnv": {
        "PATH": "~/.vscode-server/extensions/posit.air-vscode-0.18.0-linux-x64/bundled/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin"
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "REditorSupport.r",
                "Posit.air-vscode",
                "rooveterinaryinc.roo-cline" // AI agentic editor
            ],
            "settings": {
                "r.plot.view": "httpgd",
                "r.bracketedPaste": true,
                "[r]": {
                    "editor.defaultFormatter": "Posit.air-vscode",
                    "editor.formatOnSave": true
                },
                "[quarto]": {
                    "editor.defaultFormatter": "Posit.air-vscode",
                    "editor.formatOnSave": true
                }
            }
        }
    },
    "remoteUser": "root",
    "postCreateCommand": "Rscript -e 'install.packages(c(\"devtools\", \"roxygen2\", \"testthat\", \"httpgd\", \"lintr\"))' && Rscript -e 'devtools::install(upgrade=\"never\")'"
}